<link rel="stylesheet" href="css/events-list/sxn-events-list.min.css" />

<div id="events-list">

    <div class="events-list top">
        <h4>List View</h4>
        <a href="/events-calendar" class="uk-float-right green"><span class="uk-icon" uk-icon="icon: calendar"></span>View as Calendar</a>
    </div>

    <div class="uk-clearfix"></div>
    {{#if now}}
    <h4 class="today">HAPPENING NOW</h4>
    {{/if}}
    <div class="uk-card uk-card-default uk-card-body">

        <ul>
          {{#each events}}
          {{#compare date currentDate operator="=="}}
          {{#compare currentTime startTime operator=">="}}
          {{#compare currentTime endTime operator="<"}}
            <li>
                <div class="challenge-submissions" uk-grid>
                    <div class="uk-width-1-2@m">
                        <div class="img-wrap"></div>
                    </div>
                    <div class="uk-width-expand@m">

                        <p class="title"><a href="/event/{{id}}">{{title}}</a></p>
                        <p class="created-by">Created by <a href="/users/{{postedBy.id}}">{{postedBy.firstName}} {{postedBy.lastName}}</a></p>
                        <p class="timestamp">at {{createdAt}} in <a href="boards/{{board.id}}">{{board.name}}</a></p>
                        <p class="description">
                            {{date}}<br/>
                            {{startTime}} to {{endTime}}<br/>
                            {{location}}
                        </p>

                    </div>
                </div>
            </li>
          {{/compare}}
          {{/compare}}
          {{/compare}}
          {{/each}}
        </ul>
    </div>
    <br>
    <h4 class="today">UPCOMING</h4>
    <div class="uk-card uk-card-default uk-card-body">

        <ul>
          {{#each events}}
          {{#compare date currentDate operator="=="}}
          {{#compare startTime currentTime operator=">"}}
            <li>
                <div class="challenge-submissions" uk-grid>
                    <div class="uk-width-1-2@m">
                        <div class="img-wrap"></div>
                    </div>
                    <div class="uk-width-expand@m">

                      <p class="title"><a href="/event/{{id}}">{{title}}</a></p>
                        <p class="created-by">Created by <a href="/users/{{postedBy.id}}">{{postedBy.firstName}} {{postedBy.lastName}}</a></p>
                        <p class="timestamp">at {{createdAt}} in <a href="boards/{{board.id}}">{{board.name}}</a></p>
                        <p class="description">
                            {{date}}<br/>
                            {{startTime}} to {{endTime}}<br/>
                            {{location}}
                        </p>

                    </div>
                </div>
            </li>
          {{/compare}}
          {{/compare}}
          {{#compare date currentDate operator=">"}}
            <li>
                <div class="challenge-submissions" uk-grid>
                    <div class="uk-width-1-2@m">
                        <div class="img-wrap"></div>
                    </div>
                    <div class="uk-width-expand@m">

                      <p class="title"><a href="/event/{{id}}">{{title}}</a></p>
                        <p class="created-by">Created by <a href="/users/{{postedBy.id}}">{{postedBy.firstName}} {{postedBy.lastName}}</a></p>
                        <p class="timestamp">at {{createdAt}} in <a href="boards/{{board.id}}">{{board.name}}</a></p>
                        <p class="description">
                            {{date}}<br/>
                            {{startTime}} to {{endTime}}<br/>
                            {{location}}
                        </p>

                    </div>
                </div>
            </li>
          {{/compare}}
          {{/each}}
        </ul>
    </div>
    <br>
    {{#if past}}
    <h4 class="today">PAST</h4>
    {{/if}}
    <div class="uk-card uk-card-default uk-card-body">

        <ul>
          {{#each events}}
          {{#compare date currentDate operator="<="}}
          {{#compare currentTime endTime operator=">"}}
            <li>
                <div class="challenge-submissions" uk-grid>
                    <div class="uk-width-1-2@m">
                        <div class="img-wrap"></div>
                    </div>
                    <div class="uk-width-expand@m">

                      <p class="title"><a href="/event/{{id}}">{{title}}</a></p>
                        <p class="created-by">Created by <a href="/users/{{postedBy.id}}">{{postedBy.firstName}} {{postedBy.lastName}}</a></p>
                        <p class="timestamp">at {{createdAt}} in <a href="boards/{{board.id}}">{{board.name}}</a></p>
                        <p class="description">
                            {{date}}<br/>
                            {{startTime}} to {{endTime}}<br/>
                            {{location}}
                        </p>

                    </div>
                </div>
            </li>
          {{/compare}}
          {{/compare}}
          {{/each}}
        </ul>
    </div>
</div>
